<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.11/jquery.mask.min.js"></script>

{% extends "base.html" %}
{% block title %}Funcionário{% endblock %}

{% set id = result[0].id_funcionario if result else '0' %}
{% set nome = result[0].nome if result else '' %}
{% set matricula = result[0].matricula if result else '' %}
{% set cpf = result[0].cpf if result else '' %}
{% set telefone = result[0].telefone if result else '' %}
{% set grupo = result[0].grupo if result else '' %}
{% set senha = result[0].senha if result else '' %}
{% block content %}

<script type="text/javascript">
  $("#telefone").mask("(00) 0000-0000");
  $("#cpf").mask("000.000.000-00");
</script>

<div class="container">
  <form name="{{ 'formEditar' if result else 'formAdicionar' }}"
  id="{{ 'formEditar' if result else 'formAdicionar' }}"
  action="{{ url_for('funcionario.edit') if result else url_for('funcionario.insert') }}"
  method="POST">

    <h1>{{ "%s: %s" % ('Editar Registro', id) if result else 'Novo' }}</h1>
    <div class="form-group">
      <label for="id">Código</label>
      <br />
      <input
        class="form-control"
        type="text"
        name="id"
        id="id"
        value="{{ id }}"
        placeholder="Código"
        readonly
      />
      <br />
    </div>

    <div class="form-group">
      <label for="nome">Nome Funcionário</label>
      <br />
      <input
        class="form-control"
        type="text"
        name="nome"
        id="nome"
        value="{{ nome }}"
        placeholder="Nome Funcionário"
        maxlength="100"
        autofocus
        required
      />
      <br />
    </div>

    <div class="form-group">
      <label for="matricula">Matrícula</label>
      <br />
      <input
        class="form-control"
        type="text"
        name="matricula"
        id="matricula"
        value="{{ matricula }}"
        placeholder="Matrícula"
        maxlength="15"
        required
      />
      <br />
    </div>

    <div class="form-group">
      <label for="cpf">CPF</label>
      <br />
      <input
        class="form-control"
        type="text"
        name="cpf"
        id="cpf"
        value="{{ cpf }}"
        placeholder="CPF"
        maxlength="15"
        required
      />
      <br />
    </div>

    <div class="form-group">
      <label for="telefone">Telefone</label>
      <br />
      <input
        class="form-control"
        type="tel"
        name="telefone"
        id="telefone"
        value="{{ telefone }}"
        placeholder="Telefone"
        maxlength="15"
        required
      />
      <br />
    </div>

    <div class="form-group">
      <label for="grupo">Grupo</label>
      <br />
      <select class="form-control" name="grupo" id="grupo" aria-label="Grupo">
        <option value="{{ grupo }}" selected>{{ grupo }}</option>
        <option value="0">Atendente</option>
        <option value="1">Caixa</option>
        <option value="2">Adm</option>
      </select>
      <br />
    </div>

    <div class="form-group">
      <label for="senha">Senha</label>
      <br />
      <input
        class="form-control"
        type="password"
        name="senha"
        id="senha"
        value="{{ senha }}"
        placeholder="Senha"
        required
      />
      <br />
    </div>

    <div class="form-group">
      <label for="resenha">reSenha</label>
      <br />
      <input
        class="form-control"
        type="password"
        name="resenha"
        id="resenha"
        placeholder="Senha"
        value="{{ senha }}"
        required
      />

      <br />
    </div>

    <button
      class="btn btn-success"
      type="submit"
      name="salvaUsuarioDB"
      id="salvaUsuarioDB"
    >
      <i class="fas fa-save"></i> Salvar
    </button>
  </form>
</div>
{% endblock %}
